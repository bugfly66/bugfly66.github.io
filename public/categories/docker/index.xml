<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Docker on Bugfly66&#39;s Blog</title>
    <link>https://blog.delicacy.top/categories/docker/</link>
    <description>Recent content in Docker on Bugfly66&#39;s Blog</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Wed, 20 Aug 2025 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://blog.delicacy.top/categories/docker/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Docker proxy</title>
      <link>https://blog.delicacy.top/posts/2025/08/20/docker-proxy/</link>
      <pubDate>Wed, 20 Aug 2025 00:00:00 +0000</pubDate>
      <guid>https://blog.delicacy.top/posts/2025/08/20/docker-proxy/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;å†…å®¹æ¥è‡ªChatGPT&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;å¥½ ğŸ‘ å¦‚æœè¦è®© &lt;strong&gt;Docker å…¨å±€èµ°ä»£ç†&lt;/strong&gt;ï¼Œè¦ç»™ &lt;strong&gt;Docker Daemon é…ç½®ä»£ç†&lt;/strong&gt;ã€‚ä¸€èˆ¬åˆ†ä¸¤æ­¥ï¼š&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;-1-åˆ›å»ºä»£ç†é…ç½®æ–‡ä»¶&#34;&gt;ğŸ”§ 1. åˆ›å»ºä»£ç†é…ç½®æ–‡ä»¶&lt;/h2&gt;&#xA;&lt;p&gt;é¦–å…ˆæ–°å»ºç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo mkdir -p /etc/systemd/system/docker.service.d&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶ååˆ›å»ºé…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo nano /etc/systemd/system/docker.service.d/http-proxy.conf&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å†™å…¥å†…å®¹ï¼ˆå‡è®¾ä»£ç†æ˜¯ &lt;code&gt;127.0.0.1:7890&lt;/code&gt;ï¼Œæ”¹æˆä½ è‡ªå·±çš„ï¼‰ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;[Service]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Environment&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;HTTP_PROXY=http://127.0.0.1:7890&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Environment&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;HTTPS_PROXY=http://127.0.0.1:7890&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Environment&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;NO_PROXY=localhost,127.0.0.1,docker-registry.somecorporation.com&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;&#xA;&lt;h2 id=&#34;-2-è®©é…ç½®ç”Ÿæ•ˆ&#34;&gt;ğŸ”§ 2. è®©é…ç½®ç”Ÿæ•ˆ&lt;/h2&gt;&#xA;&lt;p&gt;ä¿å­˜åæ‰§è¡Œï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo systemctl daemon-reexec&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo systemctl daemon-reload&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo systemctl restart docker&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;&#xA;&lt;h2 id=&#34;-3-éªŒè¯&#34;&gt;ğŸ”§ 3. éªŒè¯&lt;/h2&gt;&#xA;&lt;p&gt;æ‰§è¡Œï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl show --property&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;Environment docker&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœèƒ½çœ‹åˆ°åˆšæ‰è®¾ç½®çš„ &lt;code&gt;HTTP_PROXY&lt;/code&gt; å’Œ &lt;code&gt;HTTPS_PROXY&lt;/code&gt;ï¼Œè¯´æ˜ç”Ÿæ•ˆäº†ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;-4-æ³¨æ„äº‹é¡¹&#34;&gt;ğŸ”§ 4. æ³¨æ„äº‹é¡¹&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;å¦‚æœä½ ç”¨çš„æ˜¯ &lt;strong&gt;Clash / V2Ray / Surge ç­‰å®¢æˆ·ç«¯&lt;/strong&gt;ï¼Œæœ¬åœ°ä»£ç†é€šå¸¸æ˜¯ &lt;code&gt;127.0.0.1:7890&lt;/code&gt;ï¼ˆhttpï¼‰ï¼Œå¦‚æœæ˜¯ socks5ï¼Œéœ€è¦å†™æˆï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Environment&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;HTTP_PROXY=socks5://127.0.0.1:7890&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;code&gt;NO_PROXY&lt;/code&gt; å¾ˆé‡è¦ï¼Œå¦åˆ™è¿ &lt;code&gt;localhost&lt;/code&gt; ä¹Ÿä¼šèµ°ä»£ç†ï¼Œå¯èƒ½å¯¼è‡´å®¹å™¨è®¿é—®å®¿ä¸»æœºæ—¶å‡ºé—®é¢˜ã€‚&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
